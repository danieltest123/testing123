## Customize the test machine
machine:

  timezone:
    America/New_York # Set the timezeone

  # Version of ruby to use
  #ruby:
  #  version:
  #    1.8.7-p358-falcon-perf

  # Override /etc/hosts
  #hosts:
  #  circlehost: 127.0.0.1
  #  dev.mycompany.com: 127.0.0.1

  # Add some environmental variables
  #environment:
  #  CIRCLE_ENV: staging
  post:
    - curl http://www.globalish.com/am/maven/maven-3/3.0.4/binaries/apache-maven-3.0.4-bin.tar.gz > apache-maven-3.0.4-bin.tar.gz
    - tar -zxvf apache-maven-3.0.4-bin.tar.gz
    - echo 'export M2_HOME=/home/ubuntu/apache-maven-3.0.4' >> ~/.circlerc
    - echo 'export M2=$M2_HOME/bin' >> ~/.circlerc
    - echo 'export PATH=$M2:$PATH' >> ~/.circlerc 

  

## Customize checkout
#checkout:
#  post:
#    - git submodule update --init # use submodules

## Customize dependencies
# dependencies:
# #  pre:
# #    - npm install coffeescript # install from a different package manager
# #    - gem uninstall bundler # use a custom version of bundler
# #    - gem install bundler --pre

#   override:
#     - bundle install: # note ':' here
#         timeout: 380 # fail if test have no output for 3 minutes

## Customize database setup
#database:
#  pre:
#    # ignore Circle's generated database.yml
#    - mv config/database.yml.ci config/database.yml

## Customize test commands
# test:
#   override:
#     - phpunit test/unit-tests # use PHPunit for testing
#   post:
#     - bundle exec rake jasmine:ci: # add an extra test type
#         environment:
#           RAILS_ENV=test
#           RACK_ENV=test
# 
# 
# ## Custom notifications
notify:
  webhooks:
    # A list of hashes representing hooks. Only the url field is supported.
    - url: http://requestb.in/1519sic1